<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ToDo List</title>
</head>
<body>
    <div>
        <h3>ToDo List</h3>
        <input type="number" placeholder="Task id" id="taskId" required>
        <br>
        <input type="text" placeholder="Task Title" id="taskTitle" required>
        <br>
        <button id="addButton" onclick="handleTask()" title="Add Task">Add</button>

        <ul id="taskList"></ul>
    </div>

    <script>
        let taksListArr = [];

        
        function handleTask(){
            let ipId = document.getElementById("taskId");
            let ipTitle = document.getElementById("taskTitle");

            // Validation
            let idVal = parseInt(ipId.value);
            let titleVal = ipTitle.value.trim();

            console.log(idVal, titleVal);

            if(idVal<1 || !idVal || !titleVal){
                alert("Invalid Fields");

                // console.log("invalid id = "+idVal);
                // console.log(`Invalid id = ${idVal}`);
                
                
                return;
            }

            taksListArr.push({id:idVal, title:titleVal});

            renderList();
            
        }

        // Clear Screen && Task List Re-Render
        function renderList(){
            let taskList = document.getElementById("taskList");
            taskList.innerHTML = "";

            taksListArr.map((task,index)=>{
                let listItem = document.createElement("li");
                listItem.innerHTML = `<div>
                        <b>${task.id}</b>     ${task.title}   
                        <span><button id="edit${index}" title = "Edit Task" onclick = "handleEdit(${index})">Edit</button></span>
                        <span><button id="delete${index}" title = "Delete Task" onclick = "handleDelete(${index})">Delete</button></span>

                    </div>`
                taskList.appendChild(listItem);
                
            })

            document.getElementById("taskId").value = "";
            document.getElementById("taskTitle").value = "";


            console.log(taksListArr);

        }

        function handleDelete(index){
            taksListArr.splice(index,1);
            renderList();
        }














    </script>
</body>
</html>
